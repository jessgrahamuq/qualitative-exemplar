<style>
    @import url('https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;500;600;700&display=swap');

    .expert-toggle-link {
        color: #a32035;
        font-family: 'Figtree', sans-serif;
        font-size: 18px;
        font-weight: 700;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        margin-bottom: 20px;
        padding: 10px 15px;
        background: #fce8eb;
        border: 2px solid #a32035;
        border-radius: 6px;
        transition: all 0.2s ease;
    }

    .expert-toggle-link:hover {
        background: #a32035;
        color: white;
        text-decoration: none;
    }

    .expert-toggle-link::before {
        content: "▼ ";
        display: inline-block;
        transition: transform 0.3s ease;
        margin-right: 8px;
        font-size: 14px;
    }

    .expert-toggle-link.collapsed::before {
        transform: rotate(-90deg);
    }

    .expert-content-container {
        width: 100%;
        overflow: hidden;
        transition: max-height 0.5s ease;
        max-height: 0;
    }

    .expert-content-container.active {
        max-height: 5000px; /* Large enough for all content */
    }

    /* Embedded visualization styles */
    .embedded-visualization {
        font-family: 'Figtree', sans-serif;
        line-height: 1.5;
        color: #2c3e50;
        background: #f5f5f5;
        font-size: 18px;
        margin: 0;
        padding: 0;
    }

    .main-container {
        display: flex;
        max-width: 1800px;
        margin: 0 auto;
        width: 100%;
        border: 1px solid #e0e0e0;
        border-radius: 6px;
        overflow: hidden;
        background: white;
    }

    .sidebar {
        width: 280px;
        min-width: 280px;
        background: white;
        border-right: 1px solid #e0e0e0;
        padding: 10px;
        height: fit-content;
        min-height: 400px;
    }

    .content {
        flex: 1;
        padding: 20px 30px;
        background: white;
        min-width: 0;
    }

    .nav-section {
        margin-bottom: 8px;
    }

    .nav-section-title {
        background: #a32035;
        color: white;
        font-weight: 600;
        font-size: 17px;
        padding: 6px 10px;
        border-radius: 4px;
        margin: 2px 0 2px 0;
    }

    .nav-section-title.optional {
        background: #898A8D;
    }

    .nav-item {
        padding: 5px 10px;
        margin-bottom: 1px;
        cursor: pointer;
        border-radius: 4px;
        transition: all 0.2s;
        font-size: 17px;
        color: #333;
    }

    .nav-item:hover {
        background: #f0f0f0;
    }

    .nav-item.active {
        background: #fce8eb;
        color: #a32035;
        font-weight: 500;
    }

    .actor-section {
        display: none;
        animation: fadeIn 0.3s ease-in;
    }

    .actor-section.active {
        display: block;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    h2 {
        font-size: 28px;
        font-weight: 600;
        margin-bottom: 12px;
        color: #1a1a1a;
        padding-bottom: 6px;
        border-bottom: 2px solid #e0e0e0;
    }

    h3 {
        font-size: 18px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 8px;
        color: #666;
    }

    .responsibility-split {
        display: flex;
        gap: 12px;
        margin-top: 8px;
        align-items: flex-start;
    }

    .responsibility-column {
        flex: 1;
        min-width: 0;
    }

    .responsibility-category {
        background: white;
        border: none;
        border-radius: 0;
        padding: 10px;
        height: 100%;
    }

    .high-resp h3 {
        color: #27ae60;
    }

    .low-resp h3 {
        color: #e74c3c;
    }

    .no-comments {
        padding: 4px 0;
        color: #999;
        font-style: italic;
        font-size: 16px;
    }

    ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    li {
        padding: 2px 0;
        padding-left: 16px;
        position: relative;
        font-size: 16px;
        line-height: 1.3;
    }

    li:before {
        content: "•";
        position: absolute;
        left: 4px;
        color: #999;
        font-size: 16px;
    }

    details {
        margin-top: 8px;
        border: 1px solid #ddd;
        background: white;
        padding: 0;
        border-radius: 4px;
    }

    summary {
        cursor: pointer;
        padding: 8px 12px;
        background: #f8f8f8;
        font-size: 15px;
        font-weight: 500;
        color: #555;
        user-select: none;
        transition: background 0.2s;
        border-radius: 4px;
    }

    summary:hover {
        background: #e8e8e8;
    }

    details[open] summary {
        background: #e0e0e0;
        border-bottom: 1px solid #ddd;
        border-radius: 4px 4px 0 0;
    }

    .quotes-container {
        padding: 8px;
        max-height: 250px;
        overflow-y: auto;
    }

    .quote {
        padding: 8px;
        margin-bottom: 6px;
        background: #f9f9f9;
        border-left: 2px solid #999;
        font-size: 15px;
        line-height: 1.4;
        color: #555;
    }

    .quote:last-child {
        margin-bottom: 0;
    }

    @media (max-width: 768px) {
        .responsibility-split {
            flex-direction: column;
        }

        .main-container {
            flex-direction: column;
        }

        .sidebar {
            width: 100%;
            border-right: none;
            border-bottom: 1px solid #e0e0e0;
        }
    }
</style>

<a href="javascript:void(0);" class="expert-toggle-link collapsed" onclick="toggleExpertVis(event)">Click to see experts' qualitative justifications for their assessments</a>

<div class="expert-content-container" id="expertContentContainer">
    <div class="embedded-visualization">
        <div class="main-container">
            <div class="sidebar">
                <div class="nav-section">
                    <div class="nav-section-title">Required Assessments</div>
                    <div class="nav-item active" data-actor="gpai-developer">AI Developer (General-purpose AI)</div>
                    <div class="nav-item" data-actor="deployer">AI Deployer</div>
                    <div class="nav-item" data-actor="governance">AI Governance Actor</div>
                    <div class="nav-item" data-actor="user">AI User</div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title optional">Optional Assessments</div>
                    <div class="nav-item" data-actor="specialized-developer">AI Developer (Specialized AI)</div>
                    <div class="nav-item" data-actor="infrastructure">AI Infrastructure Provider</div>
                    <div class="nav-item" data-actor="stakeholder">Affected Stakeholder</div>
                </div>
            </div>

            <div class="content">
                <div class="actor-section active" id="gpai-developer">
                    <h2>AI Developer (General-purpose AI)</h2>

                    <div class="responsibility-split">
                        <div class="responsibility-column">
                            <div class="responsibility-category high-resp">
                                <h3>Higher Responsibility Arguments</h3>
                                <ul>
                                    <li>Toxic generation begins at the foundation model level</li>
                                    <li>Responsible for data quality and implementing guardrails</li>
                                    <li>Must ensure systems are designed with robustness against manipulation</li>
                                    <li>Control the design and management of core systems</li>
                                </ul>
                                <details>
                                    <summary>View Supporting Expert Comments</summary>
                                    <div class="quotes-container">
                                        <div class="quote">
                                            "As the architects of foundation models, general-purpose AI developers have the greatest control over the fundamental behaviors and biases embedded in these systems. The training data selection, algorithmic choices, and base safety measures all originate at this level, making them primarily accountable for toxic outputs."
                                        </div>
                                        <div class="quote">
                                            "The responsibility fundamentally lies with those who curate the training datasets and design the core architecture. If toxic content emerges from a model, it's typically because harmful patterns existed in the training data or the safety mechanisms were inadequately designed from the outset."
                                        </div>
                                    </div>
                                </details>
                            </div>
                        </div>

                        <div class="responsibility-column">
                            <div class="responsibility-category low-resp">
                                <h3>Lower Responsibility Arguments</h3>
                                <ul>
                                    <li>Cannot simultaneously please all communities - toxicity norms vary by context</li>
                                    <li>Last-mile providers better positioned to ensure appropriate behavior for specific audiences</li>
                                    <li>Attempting universal content moderation would result in overly bland products</li>
                                </ul>
                                <details>
                                    <summary>View Supporting Expert Comments</summary>
                                    <div class="quotes-container">
                                        <div class="quote">
                                            "It's fundamentally unrealistic to expect general-purpose developers to anticipate and prevent all forms of toxicity across every possible cultural context and use case. What's considered offensive in one community might be acceptable discourse in another, making universal moderation an impossible standard."
                                        </div>
                                    </div>
                                </details>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional sections would go here - abbreviated for space -->
                <div class="actor-section" id="deployer">
                    <h2>AI Deployer</h2>
                    <div class="responsibility-split">
                        <div class="responsibility-column">
                            <div class="responsibility-category high-resp">
                                <h3>Higher Responsibility Arguments</h3>
                                <ul>
                                    <li>Primary responsibility for conducting due diligence when procuring or building around AI systems</li>
                                    <li>Responsible for moderation and contextual safeguards</li>
                                    <li>Must understand and manage risks under terms and conditions</li>
                                </ul>
                            </div>
                        </div>
                        <div class="responsibility-column">
                            <div class="responsibility-category low-resp">
                                <h3>Lower Responsibility Arguments</h3>
                                <p class="no-comments">No comments provided justifying lower responsibility ratings.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleExpertVis(e) {
        e.preventDefault();
        const link = document.querySelector('.expert-toggle-link');
        const container = document.getElementById('expertContentContainer');

        link.classList.toggle('collapsed');
        container.classList.toggle('active');
    }

    // Navigation functionality
    document.addEventListener('DOMContentLoaded', function() {
        const navItems = document.querySelectorAll('.nav-item');
        const sections = document.querySelectorAll('.actor-section');

        navItems.forEach(item => {
            item.addEventListener('click', function() {
                navItems.forEach(nav => nav.classList.remove('active'));
                sections.forEach(section => section.classList.remove('active'));

                this.classList.add('active');

                const actorId = this.getAttribute('data-actor');
                const targetSection = document.getElementById(actorId);
                if (targetSection) {
                    targetSection.classList.add('active');
                }
            });
        });
    });
</script>